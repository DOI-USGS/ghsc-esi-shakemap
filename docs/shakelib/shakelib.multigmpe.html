
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>shakelib.multigmpe &#8212; ShakeMap Documentation  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/northridge_points.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-shakelib.multigmpe">
<span id="shakelib-multigmpe"></span><h1>shakelib.multigmpe<a class="headerlink" href="#module-shakelib.multigmpe" title="Permalink to this heading">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="shakelib.multigmpe.set_sites_depth_parameters">
<span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">set_sites_depth_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gmpe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#set_sites_depth_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.set_sites_depth_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Need to select the appropriate z1pt0 value for different GMPEs.
Note that these are required site parameters, so even though
OQ has these equations built into the class in most cases.
I have submitted an issue to OQ requesting subclasses of these
methods that do not require the depth parameters in the
SitesContext to make this easier.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> – 1 An OQ sites context.</p></li>
<li><p><strong>gmpe</strong> – An OQ GMPE instance.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An OQ sites context with the depth parameters set for the
requested GMPE.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shakelib.multigmpe.stuff_context">
<span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">stuff_context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#stuff_context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.stuff_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to fill a rupture context with the contents of all of the
other contexts.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sites</strong> (<em>SiteCollection</em>) – A SiteCollection object.</p></li>
<li><p><strong>rup</strong> (<em>RuptureContext</em>) – A RuptureContext object.</p></li>
<li><p><strong>dists</strong> (<em>DistanceContext</em>) – A DistanceContext object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new RuptureContext whose attributes are all of
the elements of the three inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>RuptureContext</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shakelib.multigmpe.get_gmpe_from_name">
<span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">get_gmpe_from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conf</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#get_gmpe_from_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.get_gmpe_from_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">MultiGMPE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#MultiGMPE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">GMPE</span></code></p>
<p>Implements a GMPE that is the combination of multiple GMPEs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.DEFINED_FOR_TECTONIC_REGION_TYPE">
<span class="sig-name descname"><span class="pre">DEFINED_FOR_TECTONIC_REGION_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.DEFINED_FOR_TECTONIC_REGION_TYPE" title="Permalink to this definition">¶</a></dt>
<dd><p>Reference to a
<code class="xref py py-class docutils literal notranslate"><span class="pre">tectonic</span> <span class="pre">region</span> <span class="pre">type</span></code> this GSIM
is defined for. One GSIM can implement only one tectonic region type.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.DEFINED_FOR_INTENSITY_MEASURE_TYPES">
<span class="sig-name descname"><span class="pre">DEFINED_FOR_INTENSITY_MEASURE_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.DEFINED_FOR_INTENSITY_MEASURE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of <code class="xref py py-mod docutils literal notranslate"><span class="pre">intensity</span> <span class="pre">measure</span> <span class="pre">types</span></code>
this GSIM can
calculate. A set should contain classes from module
<code class="xref py py-mod docutils literal notranslate"><span class="pre">openquake.hazardlib.imt</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.DEFINED_FOR_INTENSITY_MEASURE_COMPONENT">
<span class="sig-name descname"><span class="pre">DEFINED_FOR_INTENSITY_MEASURE_COMPONENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.DEFINED_FOR_INTENSITY_MEASURE_COMPONENT" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>intensity measure component type
&lt;openquake.hazardlib.const.IMC&gt;</cite> this GSIM can calculate mean
and standard
deviation for.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Reference to a</p>
</dd>
<dt class="field-even">Type<span class="colon">:</span></dt>
<dd class="field-even"><p>class</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.DEFINED_FOR_STANDARD_DEVIATION_TYPES">
<span class="sig-name descname"><span class="pre">DEFINED_FOR_STANDARD_DEVIATION_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">frozenset({'Total'})</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.DEFINED_FOR_STANDARD_DEVIATION_TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of
<code class="xref py py-class docutils literal notranslate"><span class="pre">standard</span> <span class="pre">deviation</span> <span class="pre">types</span></code>
this GSIM can calculate.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.REQUIRES_SITES_PARAMETERS">
<span class="sig-name descname"><span class="pre">REQUIRES_SITES_PARAMETERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.REQUIRES_SITES_PARAMETERS" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of site parameters names this GSIM needs. The set should include
strings that match names of the attributes of a <code class="xref py py-class docutils literal notranslate"><span class="pre">site</span></code> object.
Those attributes are then available in the
<code class="xref py py-class docutils literal notranslate"><span class="pre">SitesContext</span></code> object with the same names.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.REQUIRES_RUPTURE_PARAMETERS">
<span class="sig-name descname"><span class="pre">REQUIRES_RUPTURE_PARAMETERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.REQUIRES_RUPTURE_PARAMETERS" title="Permalink to this definition">¶</a></dt>
<dd><p>Set of rupture parameters (excluding distance information) required
by GSIM. Supported parameters are:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">mag</span></code></dt><dd><p>Magnitude of the rupture.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dip</span></code></dt><dd><p>Rupture’s surface dip angle in decimal degrees.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">rake</span></code></dt><dd><p>Angle describing the slip propagation on the rupture surface,
in decimal degrees. See <code class="xref py py-mod docutils literal notranslate"><span class="pre">nodalplane</span></code>
for more detailed description of dip and rake.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ztor</span></code></dt><dd><p>Depth of rupture’s top edge in km. See
<code class="xref py py-meth docutils literal notranslate"><span class="pre">get_top_edge_depth()</span></code>.</p>
</dd>
</dl>
<p>These parameters are available from the <code class="xref py py-class docutils literal notranslate"><span class="pre">RuptureContext</span></code> object
attributes with same names.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.REQUIRES_DISTANCES">
<span class="sig-name descname"><span class="pre">REQUIRES_DISTANCES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.REQUIRES_DISTANCES" title="Permalink to this definition">¶</a></dt>
<dd><p>See <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_dppvalue()</span></code>.
<code class="docutils literal notranslate"><span class="pre">rvolc</span></code></p>
<blockquote>
<div><p>Source to site distance passing through surface projection of volcanic zone</p>
</div></blockquote>
<p>All the distances are available from the <code class="xref py py-class docutils literal notranslate"><span class="pre">DistancesContext</span></code>
object attributes with same names. Values are in kilometers.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="shakelib.multigmpe.MultiGMPE.get_mean_and_stddevs">
<span class="sig-name descname"><span class="pre">get_mean_and_stddevs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sites</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stddev_types</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#MultiGMPE.get_mean_and_stddevs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.MultiGMPE.get_mean_and_stddevs" title="Permalink to this definition">¶</a></dt>
<dd><p>See superclass <a class="reference external" href="http://docs.openquake.org/oq-hazardlib/master/gsim/index.html#openquake.hazardlib.gsim.base.GroundShakingIntensityModel.get_mean_and_stddevs">method</a>.</p>
<p>Unlike the superclass method, the stddev list returned by this
function will have twice as many arrays as are requested in
stddev_types: The first set will include the standard deviation
inflation due to the point-source to finite fault conversion (if
any), and the second set will not include this inflation. In the
case where a finite rupture is provided (and, thus, no point-source
to finite rupture adjustments are made) the two sets of stddev
arrays will be identical. Thus, if:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stddev_types</span> <span class="o">=</span> <span class="p">[</span><span class="n">const</span><span class="o">.</span><span class="n">StdDev</span><span class="o">.</span><span class="n">TOTAL</span><span class="p">,</span> <span class="n">const</span><span class="o">.</span><span class="n">StdDev</span><span class="o">.</span><span class="n">INTRA_EVENT</span><span class="p">,</span>
                <span class="n">const</span><span class="o">.</span><span class="n">StdDev</span><span class="o">.</span><span class="n">INTER_EVENT</span><span class="p">]</span>
</pre></div>
</div>
<p>the returned stddev list will contain six arrays: the first three
will include the point-source inflation, and the second three will
not.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shakelib.multigmpe.filter_gmpe_list">
<span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">filter_gmpe_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gmpes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">imt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#filter_gmpe_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.filter_gmpe_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to remove GMPEs from the GMPE list that are not applicable
to a specific IMT. Rescales the weights to sum to one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gmpes</strong> (<a class="reference external" href="http://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – List of GMPE instances.</p></li>
<li><p><strong>wts</strong> (<a class="reference external" href="http://docs.python.org/3.5/library/stdtypes.html#list" title="(in Python v3.6)"><em>list</em></a>) – List of floats indicating the weight of the GMPEs.</p></li>
<li><p><strong>imt</strong> (<em>IMT</em>) – OQ IMT to filter GMPE list for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of GMPE instances and list of weights.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="http://docs.python.org/3.5/library/stdtypes.html#tuple" title="(in Python v3.6)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shakelib.multigmpe.get_gmpe_sa_periods">
<span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">get_gmpe_sa_periods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gmpe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#get_gmpe_sa_periods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.get_gmpe_sa_periods" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to extract the SA periods defined by a GMPE.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gmpe</strong> (<em>GMPE</em>) – A GMPE instance.</p>
</dd>
</dl>
<dl class="simple">
<dt>Retunrs:</dt><dd><p>list: List of periods.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="shakelib.multigmpe.get_gmpe_coef_table">
<span class="sig-prename descclassname"><span class="pre">shakelib.multigmpe.</span></span><span class="sig-name descname"><span class="pre">get_gmpe_coef_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gmpe</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/shakelib/multigmpe.html#get_gmpe_coef_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#shakelib.multigmpe.get_gmpe_coef_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Method for finding the (or “a”) GMPE table.</p>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The reason for the complexity here is that there can be multiple
coefficient tables, and some of them may not have the sa_coeffs
attribute, which is the main reason for getting the table.</p></li>
<li><p>We are also assuming that if there are more than one  coefficient
table, the range of periods will be the same across all of the
tables.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>gmpe</strong> (<em>GMPE</em>) – An OQ GMPE instance.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The associated coefficient table.</p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/northridge_thumbnail_light_16x9.png" alt="Logo"/>
    
    <h1 class="logo logo-name">ShakeMap Documentation</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../manual4_0/index.html">ShakeMap 4.1 Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programs/programs.html">ShakeMap 4.1 Command Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/shakemap.html">ShakeMap 4.1 API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../manual3_5/index.html">ShakeMap 3.5 Manual (Deprecated)</a></li>
</ul>


<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      
      
    </div>

    

    
  </body>
</html>